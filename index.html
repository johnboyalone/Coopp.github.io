<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>Defuse Duo — คู่หูกู้ระเบิด</title>
  <link rel="stylesheet" href="style.css">
  <script type="module" src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
</head>
<body>
  <div id="app">
    <header>
      <h1>Defuse Duo — คู่หูกู้ระเบิด</h1>
      <p class="muted">ปฏิบัติการ 2 คน — สร้างภารกิจแล้วส่งรหัสให้คู่หู</p>
    </header>

    <main id="main">
      <section id="lobby">
        <div class="card">
          <label>โค้ดเนม (แสดงในห้อง)</label>
          <input id="displayName" placeholder="เช่น: CONTROL" maxlength="20">

          <div class="row">
            <button id="createRoomBtn">สร้างภารกิจใหม่</button>
            <button id="joinRoomBtn">เข้าร่วมภารกิจ</button>
          </div>

          <div id="joinArea" class="hidden">
            <label>รหัสภารกิจ</label>
            <input id="roomIdInput" placeholder="เช่น: ABC123">
            <button id="joinConfirmBtn">ยืนยันเข้าร่วม</button>
          </div>

          <div id="roomInfo" class="hidden">
            <p>รหัสภารกิจ: <strong id="roomIdLabel"></strong></p>
            <p>สถานะ: <span id="roomStatus">รอเจ้าหน้าที่</span></p>
            <p>เจ้าหน้าที่ในทีม:</p>
            <ul id="playersList"></ul>
            <div id="ownerHint" class="muted"></div>
            <div class="row">
              <button id="startGameBtn" class="hidden">เริ่มภารกิจ (ผู้เชี่ยวชาญ)</button>
              <button id="leaveRoomBtn">ถอนตัวจากภารกิจ</button>
            </div>
          </div>
        </div>
      </section>

      <section id="game" class="hidden">
        <div class="card">
          <h2 id="roleTitle">บทบาท</h2>
          <div id="gameArea">
            <!-- UI ของเกมจะแสดงที่นี่ -->
          </div>
          <div id="gameFooter">
            <p id="timerText" class="timer-critical">เวลา: --:--</p>
            <p id="hintText" class="hint"></p>
            <button id="backToLobbyBtn">กลับศูนย์บัญชาการ</button>
          </div>
        </div>
      </section>

    </main>
    <footer>
      <p class="muted">ไฟล์: index.html, style.css, script.js | เชื่อม Firebase</p>
    </footer>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>
